# 실험 요약 (Experiment Summary)

> **이 섹션은 왜 필요해?**
> - 실험의 목적, 데이터, 방법론을 한눈에 요약해서 보는 사람(멘토, 동료, 미래의 나)이 바로 이해할 수 있게 해줌.

- **실험 목적:**
  - Retrieval-Augmented Generation(RAG) 시스템의 chunking 전략, Top-k, Temperature 등 주요 파라미터가 답변 품질에 미치는 영향 분석
- **데이터:**
  - 위키피디아 '인공지능' 문서(한국어)
- **실험 방법:**
  - 다양한 chunking 전략(S-A, S-B, S-C), Top-k, Temperature 조합으로 grid search
  - 각 조합별로 질문에 대한 답변 생성 및 평가 지표 기록

---

# 실험 결과/성과/인사이트 (Experiment Results & Insights)

> **실험 개요**
> - **총 실험 수**: 90개 조합
> - **데이터 소스**: 위키피디아 '인공지능' 문서 (한국어)
> - **평가 지표**: Recall@5, F1 Score, Latency, Cost

## 핵심 지표 테이블 (Top 5 성능 조합)

| Rank | Chunk Size | Top-k | Temp | Recall@5 | F1 Score | Latency(ms) | Cost(cents) |
|------|------------|-------|------|----------|----------|-------------|-------------|
| 1 | 256 | 3 | 0.2 | 1.000 | 1.000 | 1092.0 | 2.84 |
| 2 | 256 | 3 | 0.2 | 1.000 | 1.000 | 824.3 | 2.37 |
| 3 | 256 | 3 | 0.2 | 1.000 | 1.000 | 909.7 | 1.91 |
| 4 | 256 | 3 | 0.5 | 1.000 | 1.000 | 1101.8 | 2.64 |
| 5 | 256 | 3 | 0.5 | 1.000 | 1.000 | 872.5 | 2.37 |

## 전체 실험 성과 요약

- **최고 평균 Recall@5**: 0.762
- **최고 평균 F1 Score**: 0.762  
- **평균 응답 시간**: 1274.8ms
- **평균 비용**: $0.0541
- **완벽 점수 달성**: 42개 실험
- **실패한 실험**: 3개

## 핵심 인사이트

### 1. 최적 파라미터 조합
- **Chunk Size**: 256 (가장 비용 효율적)
- **Top-k**: 3 (성능과 비용의 최적 균형)
- **Temperature**: 0.2 (가장 안정적인 성능)

### 2. 비용-성능 트레이드오프
- **가장 비싼 조합**: $0.1137 (chunk=512, k=8)
- **가장 저렴한 조합**: $0.0191 (chunk=256, k=3)
- **최고 가성비**: $0.0284로 100% Recall 달성

### 3. 실무 적용 가능성
- **프로덕션 권장**: chunk=256, k=3, temp=0.2
- **고용량 시나리오**: 비용 최적화를 위해 chunk=256, k=3 고려
- **중요 애플리케이션**: 성능 우선으로 chunk=256, k=3 사용

## 실패 실험 사례
- 3개 실험에서 성능 저하 발생
- 주로 높은 Temperature(0.8)와 큰 Top-k(8) 조합에서 발생
- 안정성을 위해 Temperature 0.2-0.5 범위 권장

## 시각 자료

> **성능 분석 그래프**: `experiments/results/performance_analysis.png`
> - 파라미터별 성능 분포 및 상관관계 분석
> - 비용-성능 트레이드오프 시각화
> - 최적 파라미터 조합 하이라이트

---

# Phase 3 액션 (Next Steps)

> **실험 완료 후 다음 단계**
> - 90개 실험을 통해 최적 파라미터를 찾았지만, 실제 프로덕션 환경에서의 검증이 필요
> - 지속적인 모니터링과 개선을 위한 계획 수립

## 즉시 적용 가능한 액션

### 1. 프로덕션 배포
- **권장 파라미터**: chunk=256, k=3, temp=0.2 적용
- **모니터링 지표**: Recall@5, F1 Score, Latency, Cost 설정
- **A/B 테스트**: 기존 설정과 비교하여 성능 개선 검증

### 2. 실시간 성능 모니터링
- 실제 사용자 질문으로 성능 추적
- 실험 결과(평균 1274.8ms)와 실제 응답 시간 비교
- 비용 모니터링: 예상 $0.0284 vs 실제 사용량

## 추가 실험 계획

### 3. 데이터셋 확장
- 현재: 위키피디아 '인공지능' 문서 (한국어)
- 확장: 다양한 도메인 문서, 다국어 지원
- 실제 사용자 질문 데이터로 검증

### 4. 고급 최적화
- **벡터 검색 엔진**: Faiss 성능 튜닝
- **임베딩 모델**: 더 정확한 임베딩 모델 테스트
- **하이브리드 검색**: 키워드 + 시맨틱 검색 조합

### 5. 비용 최적화
- **동적 파라미터**: 질문 복잡도에 따른 파라미터 조정
- **캐싱 전략**: 유사 질문에 대한 응답 캐싱
- **배치 처리**: 대량 질문 처리 최적화

## 한계점 및 주의사항

- **데이터 의존성**: 현재 결과는 특정 문서에 한정적
- **스케일링**: 대용량 데이터셋에서의 성능 검증 필요
- **실시간성**: 고부하 상황에서의 안정성 테스트 필요

---

> **Tip:**
> 이 문서는 실험이 끝날 때마다 계속 업데이트/보완하면 돼. (처음엔 뼈대만, 나중엔 표/요약/액션을 점점 채워나가는 식으로!) 